import { Lesson, ProfessionType } from '@/types/lesson';

export const electricianLessons: Lesson[] = [
  // ============================================================
  // LEKCJA 1: Podstawy multimetru
  // ============================================================
  {
    id: 'elec-001',
    slug: 'podstawy-multimetru',
    title: 'Pierwsze starcie z multimetrem',
    description: 'Naucz siÄ™ obsÅ‚ugiwaÄ‡ multimetr - podstawowe narzÄ™dzie kaÅ¼dego elektryka. Poznasz pomiary napiÄ™cia, prÄ…du i rezystancji.',
    profession: 'electrician',
    category: 'narzÄ™dzia',
    subcategory: 'pomiary',
    difficulty: 'beginner',
    estimatedTime: 15,
    totalXp: 250,
    thumbnailUrl: '/images/lessons/multimeter-basics.jpg',
    prerequisites: [],
    tags: ['multimetr', 'pomiary', 'napiÄ™cie', 'podstawy'],
    createdAt: '2024-01-15',
    updatedAt: '2024-01-20',
    version: 1,
    isPublished: true,
    
    layers: [
      // SURFACE LAYER - Szybki wstÄ™p
      {
        type: 'surface',
        title: 'Poznaj multimetr',
        description: 'Podstawowa orientacja - co to jest i do czego sÅ‚uÅ¼y',
        estimatedTime: 5,
        xpReward: 80,
        unlockThreshold: 0,
        masteryRequirement: 0.6,
        steps: [
          {
            id: 'elec-001-s1',
            order: 1,
            xpReward: 20,
            isOptional: false,
            content: {
              type: 'quiz',
              question: 'Co mierzy multimetr ustawiony na symbol "V~"?',
              options: [
                { id: 'a', text: 'NapiÄ™cie staÅ‚e (DC)', isCorrect: false, feedback: 'Nie, symbol ~ oznacza prÄ…d zmienny' },
                { id: 'b', text: 'NapiÄ™cie zmienne (AC)', isCorrect: true, feedback: 'DokÅ‚adnie! ~ to symbol prÄ…du zmiennego, V to volt' },
                { id: 'c', text: 'RezystancjÄ™', isCorrect: false, feedback: 'RezystancjÄ™ oznacza symbol Î© (omega)' },
                { id: 'd', text: 'NatÄ™Å¼enie prÄ…du', isCorrect: false, feedback: 'NatÄ™Å¼enie oznacza symbol A (amper)' }
              ],
              correctOptionId: 'b',
              explanation: 'V~ oznacza pomiar napiÄ™cia zmiennego (AC). To ustawienie uÅ¼ywasz np. przy pomiarze gniazdka 230V.',
              hint: 'PomyÅ›l o symbolu fali (~) i literze V jak Volt',
              difficulty: 0.3,
              discrimination: 1.2
            }
          },
          {
            id: 'elec-001-s2',
            order: 2,
            xpReward: 30,
            isOptional: false,
            content: {
              type: 'text',
              title: 'Budowa multimetru cyfrowego',
              body: `Multimetr to TwÃ³j najwaÅ¼niejszy przyjaciel w pracy elektryka. SkÅ‚ada siÄ™ z:

**1. WyÅ›wietlacz LCD** - pokazuje wynik pomiaru z dokÅ‚adnoÅ›ciÄ… do 3-4 cyfr

**2. PokrÄ™tÅ‚o wyboru funkcji** - obracasz, by wybraÄ‡ co chcesz mierzyÄ‡:
   - Vâ“ (napiÄ™cie staÅ‚e DC) - baterie, akumulatory
   - V~ (napiÄ™cie zmienne AC) - gniazdka, instalacja domowa
   - A (natÄ™Å¼enie prÄ…du) - ile prÄ…du pÅ‚ynie
   - Î© (rezystancja) - opÃ³r elementÃ³w
   - ğŸ”Š (ciÄ…gÅ‚oÅ›Ä‡) - czy przewÃ³d jest przerwany

**3. Gniazda sond**:
   - COM (czarne) - zawsze tutaj czarna sonda
   - VÎ©mA (czerwone) - do wiÄ™kszoÅ›ci pomiarÃ³w
   - 10A lub 20A - tylko do pomiaru duÅ¼ych prÄ…dÃ³w!

**4. Sondy pomiarowe** - czerwona (+) i czarna (-/COM)

âš ï¸ ZASADA ZÅOTA: Przed pomiarem ZAWSZE sprawdÅº czy pokrÄ™tÅ‚o jest na wÅ‚aÅ›ciwej pozycji!`,
              imageUrl: '/images/lessons/multimeter-anatomy.png',
              imageAlt: 'Budowa multimetru cyfrowego z opisanymi elementami',
              highlights: ['Vâ“', 'V~', 'COM', 'VÎ©mA'],
              estimatedReadTime: 90
            }
          },
          {
            id: 'elec-001-s3',
            order: 3,
            xpReward: 30,
            isOptional: false,
            content: {
              type: 'story-scenario',
              title: 'Pierwszy dzieÅ„ w warsztacie',
              scenario: 'Jest TwÃ³j pierwszy dzieÅ„ jako praktykant u elektryka Marka. Klient dzwoni, Å¼e nie dziaÅ‚a mu lampka nocna. Marek daje Ci multimetr i mÃ³wi: "SprawdÅº najpierw czy Å¼arÃ³wka dostaje prÄ…d". Co robisz?',
              context: {
                location: 'Mieszkanie klienta, Leszno',
                client: 'Pan Kowalski',
                problem: 'Nie Å›wieci lampka nocna przy Å‚Ã³Å¼ku',
                urgency: 'low'
              },
              decisions: [
                {
                  id: 'd1',
                  text: 'Ustawiam multimetr na V~ i mierzÄ™ napiÄ™cie na gnieÅºdzie, do ktÃ³rego podÅ‚Ä…czona jest lampka',
                  consequence: 'Sprawdzasz czy jest zasilanie. To logiczny pierwszy krok!',
                  isCorrect: true
                },
                {
                  id: 'd2',
                  text: 'Ustawiam multimetr na Î© i mierzÄ™ rezystancjÄ™ Å¼arÃ³wki',
                  consequence: 'Dobry pomysÅ‚, ale najpierw sprawdÅº czy w ogÃ³le jest prÄ…d w gniazdku',
                  isCorrect: false,
                  partialScore: 0.5
                },
                {
                  id: 'd3',
                  text: 'Ustawiam multimetr na A i mierzÄ™ prÄ…d',
                  consequence: 'Pomiar prÄ…du wymaga rozÅ‚Ä…czenia obwodu - to bardziej zaawansowane. Zacznij od napiÄ™cia!',
                  isCorrect: false,
                  partialScore: 0.2
                }
              ],
              correctDecisionId: 'd1',
              explanation: 'Zawsze zaczynaj od najprostszego: sprawdÅº czy jest napiÄ™cie w gniazdku (V~ dla 230V AC). JeÅ›li jest - problem w lampce. JeÅ›li nie ma - problem w instalacji.'
            }
          }
        ]
      },
      
      // CORE LAYER - Praktyka
      {
        type: 'core',
        title: 'Pomiary w praktyce',
        description: 'Wykonaj realne pomiary i zrozum wyniki',
        estimatedTime: 7,
        xpReward: 100,
        unlockThreshold: 50,
        masteryRequirement: 0.7,
        steps: [
          {
            id: 'elec-001-c1',
            order: 1,
            xpReward: 40,
            isOptional: false,
            content: {
              type: 'photo-challenge',
              title: 'Zmierz napiÄ™cie baterii',
              instructions: `WeÅº bateriÄ™ AA lub AAA i zmierz jej napiÄ™cie:

1. Ustaw multimetr na **Vâ“** (napiÄ™cie staÅ‚e) w zakresie 20V
2. CzerwonÄ… sondÄ™ przyÅ‚Ã³Å¼ do **+** baterii
3. CzarnÄ… sondÄ™ przyÅ‚Ã³Å¼ do **-** baterii
4. ZrÃ³b zdjÄ™cie pokazujÄ…ce wynik na wyÅ›wietlaczu

ğŸ’¡ Nowa bateria powinna pokazaÄ‡ ~1.5V, zuÅ¼yta poniÅ¼ej 1.2V`,
              exampleImageUrl: '/images/lessons/battery-measurement-example.jpg',
              expectedKeywords: ['1.5', '1.4', '1.3', '1.2', 'V', 'volt'],
              validationRules: [
                {
                  id: 'display-visible',
                  description: 'WyÅ›wietlacz multimetru widoczny',
                  type: 'object-detection',
                  params: { object: 'lcd-display', confidence: 0.7 },
                  weight: 0.3
                },
                {
                  id: 'voltage-reading',
                  description: 'Odczyt w zakresie 1.0-1.6V',
                  type: 'ocr',
                  params: { pattern: '/[0-1]\\.[0-9]/', range: [1.0, 1.6] },
                  weight: 0.5
                },
                {
                  id: 'probes-connected',
                  description: 'Sondy dotykajÄ… baterii',
                  type: 'object-detection',
                  params: { objects: ['probe', 'battery'], proximity: 50 },
                  weight: 0.2
                }
              ],
              minScore: 70,
              xpReward: 40
            }
          },
          {
            id: 'elec-001-c2',
            order: 2,
            xpReward: 30,
            isOptional: false,
            content: {
              type: 'quiz',
              question: 'ZmierzyÅ‚eÅ› bateriÄ™ AA i multimetr pokazaÅ‚ 1.18V. Co to oznacza?',
              options: [
                { id: 'a', text: 'Bateria jest peÅ‚na i gotowa do uÅ¼ycia', isCorrect: false },
                { id: 'b', text: 'Bateria jest czÄ™Å›ciowo rozÅ‚adowana, ale jeszcze dziaÅ‚a', isCorrect: true },
                { id: 'c', text: 'Bateria jest caÅ‚kowicie wyczerpana', isCorrect: false },
                { id: 'd', text: 'Multimetr jest uszkodzony', isCorrect: false }
              ],
              correctOptionId: 'b',
              explanation: 'Bateria AA ma nominalne napiÄ™cie 1.5V. Przy 1.18V jest rozÅ‚adowana w okoÅ‚o 60-70%, ale nadal moÅ¼e dziaÅ‚aÄ‡ w urzÄ…dzeniach o niskim poborze mocy. PoniÅ¼ej 1.0V uznajemy bateriÄ™ za wyczerpanÄ….',
              difficulty: 0.4,
              discrimination: 1.3
            }
          },
          {
            id: 'elec-001-c3',
            order: 3,
            xpReward: 30,
            isOptional: false,
            content: {
              type: 'voice-challenge',
              title: 'WyjaÅ›nij klientowi',
              prompt: 'Pan Kowalski pyta: "SkÄ…d wiesz, Å¼e ta bateria jest sÅ‚aba? Na oko wyglÄ…da normalnie." Nagraj krÃ³tkÄ… odpowiedÅº (30-60 sekund), wyjaÅ›niajÄ…c mu co zmierzyÅ‚eÅ› i co to oznacza. MÃ³w prostym jÄ™zykiem!',
              expectedKeywords: ['napiÄ™cie', 'wolt', 'volt', '1.5', 'multimetr', 'zmierzyÅ‚em', 'bateria', 'rozÅ‚adowana', 'sÅ‚aba'],
              niceToHaveKeywords: ['nowa bateria', 'peÅ‚na', 'nominalne', 'wyÅ›wietlacz'],
              minDuration: 20,
              maxDuration: 90,
              xpReward: 30
            }
          }
        ]
      },
      
      // DEEP LAYER - Zaawansowane
      {
        type: 'deep',
        title: 'Diagnostyka zaawansowana',
        description: 'RozwiÄ…zywanie problemÃ³w i nietypowe pomiary',
        estimatedTime: 5,
        xpReward: 70,
        unlockThreshold: 150,
        masteryRequirement: 0.8,
        steps: [
          {
            id: 'elec-001-d1',
            order: 1,
            xpReward: 35,
            isOptional: false,
            content: {
              type: 'simulation',
              title: 'Diagnoza usterki lampki',
              description: 'UÅ¼yj wirtualnego multimetru aby znaleÅºÄ‡ usterkÄ™ w obwodzie lampki nocnej',
              sceneId: 'lamp-circuit-diagnosis',
              tools: [
                {
                  id: 'multimeter',
                  name: 'Multimetr cyfrowy',
                  icon: 'ğŸ“Š',
                  instructions: 'Kliknij na punkty pomiarowe aby zmierzyÄ‡ napiÄ™cie',
                  soundOnUse: '/sounds/multimeter-beep.mp3'
                }
              ],
              objectives: [
                { id: 'obj1', description: 'Zmierz napiÄ™cie na wejÅ›ciu (gniazdko)', completed: false, xpReward: 10 },
                { id: 'obj2', description: 'Zmierz napiÄ™cie na wyÅ‚Ä…czniku', completed: false, xpReward: 10 },
                { id: 'obj3', description: 'Zidentyfikuj miejsce usterki', completed: false, xpReward: 15 }
              ],
              hints: [
                'Zacznij od ÅºrÃ³dÅ‚a zasilania i idÅº w stronÄ™ odbiornika',
                'JeÅ›li napiÄ™cie "znika" miÄ™dzy dwoma punktami - tam jest problem',
                'SprawdÅº zarÃ³wno przewÃ³d fazowy jak i neutralny'
              ]
            }
          },
          {
            id: 'elec-001-d2',
            order: 2,
            xpReward: 35,
            isOptional: false,
            content: {
              type: 'quiz',
              question: 'Podczas pomiaru ciÄ…gÅ‚oÅ›ci przewodu multimetr pokazuje "OL" (overload). Co to oznacza?',
              options: [
                { id: 'a', text: 'PrzewÃ³d jest sprawny - ma niskÄ… rezystancjÄ™', isCorrect: false },
                { id: 'b', text: 'PrzewÃ³d jest przerwany - brak ciÄ…gÅ‚oÅ›ci', isCorrect: true },
                { id: 'c', text: 'Bateria w multimetrze jest sÅ‚aba', isCorrect: false },
                { id: 'd', text: 'PrzewÃ³d ma zwarcie', isCorrect: false }
              ],
              correctOptionId: 'b',
              explanation: '"OL" (Overload/Over Limit) przy pomiarze ciÄ…gÅ‚oÅ›ci oznacza nieskoÅ„czonÄ… rezystancjÄ™ - czyli przerwÄ™ w przewodzie. Sprawny przewÃ³d powinien pokazaÄ‡ wartoÅ›Ä‡ bliskÄ… 0Î© i wydaÄ‡ sygnaÅ‚ dÅºwiÄ™kowy.',
              difficulty: 0.6,
              discrimination: 1.5
            }
          }
        ]
      }
    ],
    
    intermissions: [
      {
        id: 'int-1',
        afterLayer: 'surface',
        title: 'Åšwietny start! ğŸ‰',
        message: 'OpanowaÅ‚eÅ› podstawy multimetru. Gotowy na prawdziwe pomiary?',
        ctaText: 'PrzejdÅº do praktyki',
        motivationalQuote: '"Teoria bez praktyki jest jak mapa bez terenu" - stare powiedzenie elektrykÃ³w',
        showProgress: true
      },
      {
        id: 'int-2',
        afterLayer: 'core',
        title: 'Brawo! Masz juÅ¼ praktyczne umiejÄ™tnoÅ›ci ğŸ’ª',
        message: 'WykonaÅ‚eÅ› prawdziwe pomiary. Chcesz nauczyÄ‡ siÄ™ diagnozowaÄ‡ usterki jak zawodowiec?',
        ctaText: 'ZostaÅ„ ekspertem',
        showProgress: true
      }
    ]
  },

  // ============================================================
  // LEKCJA 2: BezpieczeÅ„stwo elektryczne
  // ============================================================
  {
    id: 'elec-002',
    slug: 'bezpieczenstwo-elektryczne',
    title: 'BezpieczeÅ„stwo przy pracy z prÄ…dem',
    description: 'Poznaj zasady BHP, ktÃ³re mogÄ… uratowaÄ‡ Ci Å¼ycie. Dowiedz siÄ™ jak bezpiecznie pracowaÄ‡ z instalacjÄ… elektrycznÄ….',
    profession: 'electrician',
    category: 'bhp',
    subcategory: 'podstawy',
    difficulty: 'beginner',
    estimatedTime: 20,
    totalX
